{% extends 'pages\base.html' %}
{% load humanize %}
{% load static %}

{% block page_content %}
    <h2 style="margin-left: 4rem; margin-top:2rem">Nuestras creaciones</h2>
    <div class="container-md pt-3 bg-dark text-dark">
        {% for product in products %}     
        <div class="row">
			<div id="content-wrapper">
				<div>
					<div class="column">
						<img id="featured" src="{{product.imageURL}}">

						<div id="slide-wrapper">
							<img id="slideLeft" class="arrow" src="{% static 'base/img/arrow-left.png' %}">

							<div id="slider">
								{% for image in product.image_set.all%}					
									<img class="thumbnail" src="{{image.imageURL}}">
								{% endfor %}			
							</div>
							<img id="slideRight" class="arrow" src="{% static 'base/img/arrow-right.png' %}">
						</div>
					</div>

					<div class="column">
						<h3>{{product}}</h3>
						<hr>
						<h4>{{product.price}}</h4>

						<p>{{product.description}}</p>

					</div>
				</div>
				{% endfor %}
			</div>
			<script type="text/javascript">
					let thumbnails = document.getElementsByClassName('thumbnail')
					let activeImages = document.getElementsByClassName('active')
					for (var i=0; i < thumbnails.length; i++){
						thumbnails[i].addEventListener('mouseover', function(){

							if (activeImages.length > 0){
								activeImages[0].classList.remove('active')
							}
						
							this.classList.add('active')
							document.getElementById('featured').src = this.src
						})
					}

					const buttonRight = document.getElementById('slideRight');
					const buttonLeft = document.getElementById('slideLeft');


					buttonRight.addEventListener('click', function(){
						document.getElementById('slider').scrollLeft += 180;
					})

					buttonLeft.addEventListener('click', function(){
					document.getElementById('slider').scrollLeft -= 180;
					})

			</script>
			</div>
        </div>
    </div> 
{% endblock %}

{% block footer %}
{% endblock footer %}
